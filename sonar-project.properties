# SonarQube Configuration for AFLWP Email Worker
sonar.projectKey=aflwp-email-worker
sonar.projectName=aflwp-email-worker
# Project version is injected by the pipeline (see Jenkins),
# using the latest Git tag or, if missing, the version from package.json.
# sonar.projectVersion=

# Source code
sonar.sources=source
sonar.tests=tests/unit

# Language
sonar.language=ts

# Coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.coverage.exclusions=tests/**,**/*.test.ts,**/*.spec.ts,**/test*.ts

# Exclude test files from main analysis
sonar.test.inclusions=tests/**/*.test.ts,tests/**/*.spec.ts
sonar.test.exclusions=**/node_modules/**,**/coverage/**

# TypeScript configuration
sonar.typescript.tsconfigPath=tsconfig.json

# Quality Gate configuration
sonar.qualitygate.wait=true

# Exclude specific rules for test files
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignore redundant casts in test files (typescript:S4325)
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S4325
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

# Ignore any usage in test files (typescript:S1803)
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1803
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.test.ts

# Ignore console statements in test files (typescript:S1066)
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1066
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.test.ts

# Ignore magic numbers in test files (typescript:S109)
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S109
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.test.ts

# Ignore object stringification warnings (typescript:S6551)
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S6551
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.ts

# Additional exclusions for Jenkins compatibility
sonar.exclusions=node_modules/**,build/**,vendor/**,scripts/**,source/templates/**
sonar.cpd.exclusions=tests/**,source/templates/**





